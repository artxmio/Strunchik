<Page x:Class="Strunchik.View.MainWindow.Pages.PurchaseHistoryPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Strunchik.View.MainWindow.Pages"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:vm="clr-namespace:Strunchik.ViewModel.MainWindowViewModel"
      xmlns:converters="clr-namespace:Strunchik.ViewModel.Converters"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="800"
      Title="PurchaseHistoryPage"
      d:DataContext="{d:DesignInstance vm:MainWindowViewModel}">
    <Page.Resources>
        <converters:PercentageConverter x:Key="PercentageConverter"/>
    </Page.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <TextBlock Text="История покупок" 
                   FontSize="30" 
                   FontWeight="Bold" 
                   HorizontalAlignment="Center" 
                   Margin="10"
                   Foreground="White"/>

        <DataGrid Grid.Row="1" Name="PurchaseHistoryGrid" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False" 
                  IsReadOnly="True" 
                  ItemsSource="{Binding HistoryItems, Mode=TwoWay}"
                  Margin="10"
                  Foreground="White"
                  Background="#202020"
                  FontSize="20"
                  BorderBrush="Black"
                  BorderThickness="2">
            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                    <Setter Property="Padding" Value="10"/>
                    <Setter Property="BorderBrush" Value="#404040"/>
                    <Setter Property="BorderThickness" Value="1"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>
            <DataGrid.Columns>
                <DataGridTextColumn Header="Название товара" 
                                    Binding="{Binding ProductName}"
                                    Width="1*"/>
                <DataGridTextColumn Header="Количество" 
                                    Binding="{Binding Quantity}" 
                                    Width="150"/>
                <DataGridTextColumn Header="Цена ($)"
                                    Binding="{Binding Price}"
                                    Width="150"/>
                <DataGridTextColumn Header="Дата покупки"
                                    Binding="{Binding PurchaseDate}"
                                    Width="300" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
